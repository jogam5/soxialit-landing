var y = window.pageYOffset;
document.documentElement.style.overflowY = "hidden";

window.onscroll = function(){
	window.scroll(0, y);
};
$('#modal-link').fadeIn('fast');
$('#modal-link').html("<%= escape_javascript(render :partial => 'modal_post', :object => @micropost) %>");
$('#modal-link').click(function(){
	window.onscroll = null;
	document.documentElement.style.overflowY = "scroll";
});
$(document).keyup(function(e) {
  if (e.keyCode == 27) { $('#modal-link').fadeOut('fast');
	window.onscroll = null;
	document.documentElement.style.overflowY = "scroll";
   }   // esc
});

$('.close-button').click(function(){
	$('#modal-link').fadeOut('fast');
});

$('#micropost_tag_list').tokenInput('/sources.json', { 
    theme: 'facebook',
    crossDomain: false,
    prePopulate: $('#micropost_tag_list').data('pre'),
    theme: 'facebook',
	 preventDuplicates: true,
	 tokenValue: 'name', // defaults to 'id'
  
	 allowCustomEntry: true
});

$('.micropost_tag_list').tokenInput('/sources.json', { 
    theme: 'facebook',
    crossDomain: false,
    prePopulate: $('#micropost_tag_list').data('pre'),
    theme: 'facebook',
	 preventDuplicates: true,
	 tokenValue: 'name', // defaults to 'id'
  
	 allowCustomEntry: true
});